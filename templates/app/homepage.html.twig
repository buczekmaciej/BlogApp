{% extends "app/index.html.twig" %}

{% block addition %}
	Homepage
{% endblock %}

{% block stylesheets %}
	{{parent()}}
	<link href="/styles/user/homepage.css" rel="stylesheet">
{% endblock %}

{% block content %}
	<section class="org">
		<div class="recent">
			{% for post in posts %}
				<div class="post">
					<img {% if post.image %} src="/images/postsImages/{{post.image}}" {% else %} src="/images/defaults/post.svg" {% endif %}>
					<div class="post-content">
						<p class="post-title">
							{{post.Title}}
						</p>
						<p class="author-date">
							{{post.createdAt|date("D, m d, Y")}}
							by
							<a href="{{path('otherUser', {'id': post.user.id})}}">
								<b>
									{{post.user.details.firstName}}
								</b>
							</a>
						</p>
						<a href="{{path('displayArticle', {'link': post.link})}}" class="readmore">
							Read more
						</a>
					</div>
				</div>
			{% endfor %}
		</div>
		<div class="liked">
			<p class="section-head">
				Most liked posts
			</p>
			{% for post in liked %}
				<div class="liked-post">
					<p class="title">
						{{post.Title}}
					</p>
					<p class="author-date">
						{{post.createdAt|date("D, m d, Y")}}
						by
						<a href="{{path('otherUser', {'id': post.user.id})}}">
							<b>
								{{post.user.details.firstName}}
							</b>
						</a>
					</p>
					<a href="{{path('displayArticle', {'link': post.link})}}">
						Read more
					</a>
				</div>
			{% else %}
				<p class="no-article">
					<span>
						Sorry but not a single article is in this section at the moment
					</span>
					<a href="{{path('articlesPagination')}}">
						Go ahead and find article you may like
					</a>
				</p>
			{% endfor %}
			{% if app.user %}
				<a href="{{path('createArticle')}}" class="create-link">
					Create article
				</a>
			{% endif %}
		</div>
	</section>
{% endblock %}
